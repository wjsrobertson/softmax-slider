<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.8.3.js"></script>
    <script src="libs/slider/js/bootstrap-slider.js"></script>
    <script src="./js/softmax-slider.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link rel="stylesheet" href="libs/slider/css/slider.css">
    <link rel="stylesheet" href="css/softmax-slider.css">
</head>

<body class="container">

<div class="page-header">
    <h1>Softmax Slider</h1>
</div>

<div class="lead">
    A visual aid for playing with the <a href="https://en.wikipedia.org/wiki/Softmax_function">SoftMax</a> algorithm.
</div>

<div class="well">
    <p>Softmax is used in categorisation problems in neural networks to map the final layer of neurons from scalar input values to a probability distribution
        over different categories</p>

    <p>In this example the input values for each category can vary on a scale from 0 up to 10 - move the sliders to change the values</p>
</div>

<div class="row">
    <div class="col-sm-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title">Category Values</h2>
            </div>
            <div class="panel-body">

                <div class="form-group">
                    <button id="add-category" type="button" class="btn btn-default btn-md">
                        <span class="glyphicon glyphicon-plus"></span>
                    </button>
                    <label for="add-category">
                        <small>Add new category</small>
                    </label>
                </div>

                <div id="category-control-template" class="template">
                    <div class="form-group" use="category-slider">
                        <div class="category-slider">
                            <button title="remove" use="remove" type="button" class="btn btn-default btn-sm pull-right">
                                <small><span class="glyphicon glyphicon-remove"></span></small>
                            </button>

                            <div use="category-name" class="category-name"></div>

                            <input class="input-slider" use="slider" type="text" value="" data-slider-min="0" data-slider-max="10" data-slider-step="0.1"
                                   data-slider-value="0" data-slider-selection="after" data-slider-tooltip="hide">
                        </div>
                    </div>
                </div>

                <div id="category-controls" class="form-group">
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-8">
        <div class="row">
            <div class="col-sm-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h3 class="panel-title">Category Probability Scores (Softmax Output)</h3>
                    </div>
                    <div class="panel-body">
                        <canvas id="softmax-chart-container" width="300" height="300"></canvas>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Category Values (Softmax Input)</h3>
                    </div>
                    <div class="panel-body">
                        <canvas id="input-chart-container" width="300" height="300"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="alert alert-success">
            <strong>Categorical distribution: </strong> note that the total sum of all category probability scores is 1 since it represents a probability
            distribution
        </div>

        <div class="alert alert-success">
            <strong>Softmax vs input: </strong> note that the softmax output values are quite sensitive to changes in input - a relatively small difference to an input value
            for a category can cause a large swing in the probability
        </div>
    </div>
</div>

<div class="well-sm">
    <p>The sourcecode for this is available on github here - <a href="https://github.com/wjsrobertson/softmax-slider">github.com/wjsrobertson/softmax-slider</a></p>
</div>

<script>
    smax('category-control-template', 'category-controls', 'add-category', 'softmax-chart-container', 'input-chart-container');
</script>

</body>
</html>